(this["webpackJsonpt-moberries"]=this["webpackJsonpt-moberries"]||[]).push([[0],{100:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),i=(n(100),n(19)),l=n(3),s=n(179),u=n(180),d=n(188),b=n(182),j=n(132),m=n(181),p=n(37),h=n.n(p),x=n(47),v=n(26),f=n(175),g=n(190),O=n(5),C=n(130),T=Object(f.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}}),V=Object(f.a)((function(e){return Object(g.a)({root:{width:"100%"},button:{marginRight:e.spacing(1),width:115},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},stepperFooter:{marginTop:40,display:"flex",justifyContent:"space-between",alignItems:"flex-end"},processingCallback:{color:"#fff!important"}})})),y=Object(O.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(C.a);var D=n(183),k=n(4);var E=function(e){var t=function(e){var t=V(),n=r.a.useState(0),a=Object(v.a)(n,2),c=a[0],o=a[1],i=r.a.useState(!1),l=Object(v.a)(i,2),s=l[0],u=l[1],d=function(){var t=Object(x.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),n=e.stepsData[e.stepsLabel[c]].callback||function(){return!0},t.next=5,n();case 5:t.sent&&o((function(e){return e+1})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:return t.prev=12,u(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(){return t.apply(this,arguments)}}();return{activeStep:c,setActiveStep:o,getStepContent:function(t){return e.stepsData[e.stepsLabel[t]].component},handleNext:d,handleBack:function(){o((function(e){return e-1}))},processingCallback:s,classes:t}}(e),n=t.activeStep,a=t.getStepContent,c=t.handleNext,o=t.handleBack,p=t.processingCallback,f=t.classes,g=e.stepsLabel,O=e.stepsData;return Object(k.jsxs)("div",{className:f.root,children:[Object(k.jsx)(s.a,{alternativeLabel:!0,activeStep:n,connector:Object(k.jsx)(y,{}),children:g.map((function(e,t){return Object(k.jsx)(u.a,{children:Object(k.jsx)(d.a,{StepIconComponent:function(e){return function(e,t){var n,a=T(),r=e.active,c=e.completed,o={};return Object.keys(t).map((function(e,n){return o[n+1]=t[e].icon})),Object(k.jsx)("div",{className:Object(l.a)(a.root,(n={},Object(i.a)(n,a.active,r),Object(i.a)(n,a.completed,c),n)),children:o[String(e.icon)]})}(e,O)},children:e})},"step-".concat(t))}))}),Object(k.jsx)(m.a,{maxWidth:"sm",children:n===g.length?Object(k.jsx)("div",{children:Object(k.jsx)(j.a,{className:f.instructions,children:Object(k.jsx)("img",{src:"https://i.pinimg.com/originals/b9/88/b7/b988b7c3e84e1f83ef9447157831b460.gif",alt:"thank_you",width:"100%"})})}):Object(k.jsxs)("div",{children:[Object(k.jsx)(j.a,{component:"section",className:f.instructions,children:a(n)}),Object(k.jsxs)("div",{className:f.stepperFooter,children:[Object(k.jsx)("div",{children:e.footerLeft}),Object(k.jsxs)("div",{children:[Object(k.jsx)(b.a,{disabled:0===n,onClick:o,className:f.button,children:"Back"}),Object(k.jsx)(b.a,{variant:"contained",color:"primary",onClick:c,className:f.button,children:p?Object(k.jsx)(D.a,{className:f.processingCallback,size:25}):n===g.length-1?"Confirm":"Next"})]})]})]})})]})},P=n(131),F=Object(a.createContext)({}),S=function(){return Object(a.useContext)(F)},w=n(14),L=n(77),N=n.n(L).a.create({timeout:6e4,headers:{"Content-Type":"application/json"}}),H=n(79),B=n.n(H),I=n(80),U=n.n(I),W=n(81),A=n.n(W),_=Object(f.a)((function(){return Object(g.a)({root:{margin:"50px",padding:50,minWidth:"300px"},footerLeft:{display:"flex",flexDirection:"column",fontWeight:600}})})),R=n(185),M=n(184);var $=n(186),z=n(189),G=n(135),J=n(136);var q=function(){var e=function(){var e=S(),t=e.setFormData;return{handleChange:function(e){null===t||void 0===t||t((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(i.a)({},e.target.name,{Value:e.target.value,Error:!1,HelperText:""}))}))},formData:e.formData,handleTnC:function(e,n){null===t||void 0===t||t((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(i.a)({},e.target.name,{Value:n,Error:!1,HelperText:""}))}))}}}(),t=e.handleChange,n=e.formData,a=e.handleTnC;return Object(k.jsxs)(M.a,{container:!0,spacing:8,children:[Object(k.jsx)(M.a,{item:!0,xs:12,children:Object(k.jsx)(R.a,{label:"Email Address",name:"UserEmail",value:null===n||void 0===n?void 0:n.UserEmail.Value,error:null===n||void 0===n?void 0:n.UserEmail.Error,onChange:t,fullWidth:!0,helperText:null===n||void 0===n?void 0:n.UserEmail.HelperText})}),Object(k.jsx)(M.a,{item:!0,xs:12,children:Object(k.jsxs)(G.a,{required:!0,error:!(null===n||void 0===n?void 0:n.TnC.Value),component:"fieldset",children:[Object(k.jsx)($.a,{control:Object(k.jsx)(z.a,{checked:null===n||void 0===n?void 0:n.TnC.Value,onChange:a,name:"TnC"}),label:"I agree with the Terms and Conditions"}),Object(k.jsx)(J.a,{children:"You must agree with our TnC to continue"})]})})]})},Y=n(78);n(126);var K=function(){var e=function(){var e=S(),t=e.setFormData;return{handleChange:function(e){e.target.value.length>e.target.maxLength||null===t||void 0===t||t((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(i.a)({},e.target.name,{Value:e.target.value,Error:!1,HelperText:""}))}))},handleFocus:function(e){null===t||void 0===t||t((function(t){return Object(w.a)(Object(w.a)({},t),{},{focused:{Value:e.target.name}})}))},formData:e.formData}}(),t=e.handleChange,n=e.handleFocus,a=e.formData;return Object(k.jsxs)(M.a,{container:!0,spacing:8,children:[Object(k.jsx)(M.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(Y.a,{cvc:null===a||void 0===a?void 0:a.cvc.Value,expiry:null===a||void 0===a?void 0:a.expiry.Value,focused:"cvc"===(null===a||void 0===a?void 0:a.focused.Value)?"cvc":"name",name:null===a||void 0===a?void 0:a.name.Value,number:null===a||void 0===a?void 0:a.number.Value})}),Object(k.jsx)(M.a,{item:!0,xs:12,md:6,children:Object(k.jsxs)(M.a,{container:!0,spacing:1,children:[Object(k.jsx)(M.a,{item:!0,xs:12,children:Object(k.jsx)(R.a,{error:null===a||void 0===a?void 0:a.name.Error,label:"Name",name:"name",value:null===a||void 0===a?void 0:a.name.Value,onChange:t,onFocus:n,inputProps:{maxLength:30},fullWidth:!0,helperText:null===a||void 0===a?void 0:a.name.HelperText})}),Object(k.jsx)(M.a,{item:!0,xs:12,children:Object(k.jsx)(R.a,{error:null===a||void 0===a?void 0:a.number.Error,label:"Card Number",type:"number",name:"number",value:null===a||void 0===a?void 0:a.number.Value,onChange:t,onFocus:n,inputProps:{maxLength:16},fullWidth:!0,helperText:null===a||void 0===a?void 0:a.number.HelperText})}),Object(k.jsx)(M.a,{item:!0,xs:6,children:Object(k.jsx)(R.a,{error:null===a||void 0===a?void 0:a.expiry.Error,label:"Expiry",name:"expiry",type:"number",value:null===a||void 0===a?void 0:a.expiry.Value,onChange:t,onFocus:n,inputProps:{maxLength:4},fullWidth:!0,helperText:null===a||void 0===a?void 0:a.expiry.HelperText})}),Object(k.jsx)(M.a,{item:!0,xs:6,children:Object(k.jsx)(R.a,{error:null===a||void 0===a?void 0:a.cvc.Error,label:"CVC",name:"cvc",type:"number",value:null===a||void 0===a?void 0:a.cvc.Value,onChange:t,onFocus:n,inputProps:{maxLength:4},fullWidth:!0,helperText:null===a||void 0===a?void 0:a.cvc.HelperText})})]})})]})},Q=n(141),X=n(191),Z=n(138),ee=n(187),te=Object(f.a)((function(){return Object(g.a)({form:{width:"100%",marginBottom:15},PaymentSwitch:{display:"flex",justifyContent:"space-between"}})}));var ne=function(){var e=te(),t=function(){var e=S(),t=e.setFormData;return{handleChange:function(e,n){null===t||void 0===t||t((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(i.a)({},e.target.name,{Value:e.target.value||Boolean(n),Error:!1,HelperText:""}))}))},formData:e.formData}}(),n=t.handleChange,a=t.formData;return Object(k.jsxs)("div",{children:[Object(k.jsxs)(G.a,{className:e.form,children:[Object(k.jsx)(Q.a,{children:"Duration (Months)"}),Object(k.jsxs)(Z.a,{name:"Duration",value:null===a||void 0===a?void 0:a.Duration.Value,onChange:n,fullWidth:!0,children:[Object(k.jsx)(X.a,{value:3,children:"3"}),Object(k.jsx)(X.a,{value:6,children:"6"}),Object(k.jsx)(X.a,{value:12,children:"12"})]}),Object(k.jsx)(J.a,{})]}),Object(k.jsxs)(G.a,{className:e.form,children:[Object(k.jsx)(Q.a,{children:"Amount (GB)"}),Object(k.jsxs)(Z.a,{name:"Amount",value:null===a||void 0===a?void 0:a.Amount.Value,onChange:n,fullWidth:!0,children:[Object(k.jsx)(X.a,{value:5,children:"5"}),Object(k.jsx)(X.a,{value:10,children:"10"}),Object(k.jsx)(X.a,{value:50,children:"50"})]}),Object(k.jsx)(J.a,{})]}),Object(k.jsx)(G.a,{className:e.form,children:Object(k.jsx)($.a,{className:e.PaymentSwitch,control:Object(k.jsx)(ee.a,{checked:Boolean(null===a||void 0===a?void 0:a.UpfrontPayment.Value),onChange:n,inputProps:{name:"UpfrontPayment"}}),label:"Upfront Payment",labelPlacement:"start"})})]})};function ae(){var e=r.a.useState(null),t=Object(v.a)(e,2),n=t[0],a=t[1],c=r.a.useState(!0),o=Object(v.a)(c,2),i=o[0],l=o[1],s=r.a.useState([]),u=Object(v.a)(s,2),d=u[0],b=u[1],j=r.a.useState({Duration:{Value:12,Error:!1,HelperText:""},Amount:{Value:5,Error:!1,HelperText:""},UpfrontPayment:{Value:!1,Error:!1,HelperText:""},number:{Value:"",Error:!1,HelperText:""},expiry:{Value:"",Error:!1,HelperText:""},cvc:{Value:"",Error:!1,HelperText:""},focused:{Value:"name"},name:{Value:"",Error:!1,HelperText:""},UserEmail:{Value:"",Error:!1,HelperText:""},TnC:{Value:!1,Error:!1,HelperText:""}}),m=Object(v.a)(j,2),p=m[0],f=m[1],g=_();r.a.useEffect((function(){N.get("https://cloud-storage-prices-moberries.herokuapp.com/prices").then((function(e){return e.data.subscription_plans})).catch((function(e){throw e})).then((function(e){b(e)})).catch(a).finally((function(){l(!1)}))}),[l,a]);var O={"Select Subscription Parameters":{icon:Object(k.jsx)(B.a,{}),component:Object(k.jsx)(ne,{})},Payment:{icon:Object(k.jsx)(U.a,{}),component:Object(k.jsx)(K,{}),callback:function(){return C(["name","number","expiry","cvc"])}},Confirmation:{icon:Object(k.jsx)(A.a,{}),component:Object(k.jsx)(q,{}),callback:function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C(["UserEmail","TnC"])){e.next=4;break}return e.abrupt("return",(t=p,N({baseURL:"https://httpbin.org/",method:"post",url:"post",data:t}).then((function(e){return e})).catch((function(e){throw e}))).then((function(e){return!0})).catch(console.log));case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}()}},C=function(e){var t=Object(w.a)({},p),n=!0;return e.map((function(e){return t[e].Value||(t[e].Error=!0,n=!1),!0})),f(t),n};return{formData:p,setFormData:f,isError:n,isLoading:i,subscriptionPrices:d,getFinalPrice:function(e,t,n){return n.reduce((function(n,a){return a.duration_months===e&&(n=a.price_usd_per_gb*t),n}),0)},stepsData:O,classes:g}}var re=function(){var e=ae(),t=e.formData,n=e.setFormData,a=e.isLoading,r=e.subscriptionPrices,c=e.getFinalPrice,o=e.stepsData,i=e.classes,l=Object(k.jsxs)("div",{className:i.footerLeft,children:[Object(k.jsxs)("span",{children:["Selected Plan: ","".concat(t.Duration.Value," Months/").concat(t.Amount.Value," GB")]}),Object(k.jsxs)("span",{children:["Final Price: ","".concat(a?"Fetching":"$"+c(t.Duration.Value,t.Amount.Value,r))]})]});return Object(k.jsx)(m.a,{maxWidth:"md",children:Object(k.jsx)(P.a,{elevation:10,className:i.root,children:Object(k.jsx)(F.Provider,{value:{formData:t,setFormData:n},children:Object(k.jsx)(E,{stepsData:o,stepsLabel:Object.keys(o),footerLeft:l})})})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,192)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(re,{})}),document.getElementById("root")),ce()}},[[128,1,2]]]);
//# sourceMappingURL=main.6ee7f45b.chunk.js.map